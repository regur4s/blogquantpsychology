{% extends 'base.html' %}
{% block title %}{{ post.title }} - My Blog{% endblock %}
{% block content %}
  <article class="post">
    <h1>{{ post.title }}</h1>
    <div class="meta">
      📅 {{ post.created_at.strftime('%B %d, %Y') }}
      {% if post.category %}
        • 📁 <a href="{{ url_for('category_posts', slug=post.category.slug) }}">{{ post.category.name }}</a>
      {% endif %}
      • 👁️ {{ post.view_count }} views
      {% if post.updated_at != post.created_at %}
        • Updated: {{ post.updated_at.strftime('%B %d, %Y') }}
      {% endif %}
    </div>
    
    {% if post.tags %}
      <div class="tags">
        🏷️ 
        {% for tag in post.tags %}
          <a href="{{ url_for('tag_posts', slug=tag.slug) }}" class="tag">{{ tag.name }}</a>
          {%- if not loop.last %}, {% endif %}
        {% endfor %}
      </div>
    {% endif %}
    
    <div class="content">{{ html | safe }}</div>
    
    <div class="post-navigation">
      <a href="{{ url_for('index') }}">&larr; Back to all posts</a>
      {% if session.get('is_admin') %}
        • <a href="{{ url_for('admin_edit', post_id=post.id) }}">✏️ Edit this post</a>
      {% endif %}
    </div>
  </article>
{% endblock %}

