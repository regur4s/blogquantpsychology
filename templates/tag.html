{% extends "base.html" %}

{% block title %}Tag: {{ tag.name }} - {{ super() }}{% endblock %}

{% block content %}
<div class="tag-header">
  <h1>🏷️ {{ tag.name }}</h1>
  <p class="meta">{{ posts|length }} posts</p>
</div>

{% if posts %}
  <ul class="post-list">
    {% for post in posts %}
    <li class="post-item">
      <h2><a href="{{ url_for('post_detail', slug=post.slug) }}">{{ post.title }}</a></h2>
      {% if post.excerpt %}
        <p class="excerpt">{{ post.excerpt }}</p>
      {% endif %}
      <div class="meta">
        {{ post.created_at.strftime('%B %d, %Y') }}
        {% if post.category %}
          • 📁 <a href="{{ url_for('category_posts', slug=post.category.slug) }}">{{ post.category.name }}</a>
        {% endif %}
        {% if post.view_count > 0 %}
          • 👁️ {{ post.view_count }} views
        {% endif %}
      </div>
    </li>
    {% endfor %}
  </ul>
{% else %}
  <p>No posts with this tag yet.</p>
{% endif %}

<p><a href="{{ url_for('index') }}">&larr; Back to all posts</a></p>
{% endblock %}